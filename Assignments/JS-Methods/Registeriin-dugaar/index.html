<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registeriin dugaar</title>
</head>
<style>h1{text-align: center; background: gray;}</style>
<body>
    <h1>Registeriin dugaar</h1>
    <script>
        let register = "АА10293433";
        
        //Register number mon esehiig shalgadag function
        function isCorrectReg(register)
        {
            if(register.length != 10)
            {
                return 0;
            }
            else if(register[0] == Number(register[0]) || register[1] == Number(register[1]))
            {
                return 0;
            }
            else
            {
                if(register.substr(2, 8) != Number(register.substr(2, 8)))
                {
                    return 0;
                }
                else
                {
                    return 1;
                }
            }
        }

        //Gender shalgadag function
        function getGender(arr)
        {
            const genderNum = arr.at(8);
            let gender;
            if(Number(genderNum % 2 != 0))
            {
                gender = "Эрэгтэй";  
            }
            else
            {
                gender = "Эмэгтэй";
            }
            return gender; // Genderiig butsaana
        }

        //Tursun udur shalgadag function
        let getBirthdate = (arr) => //002922
        {
            let birthDay = arr.slice(2, 8);
            let day = arr.slice(6, 8);
            let month;
            let year = arr.slice(2, 4);
            let birthDay_result = "";
            if(birthDay.at(2) == 2 || birthDay.at(2) == 3)
            {
                month = Number(birthDay.at(2)) - 2;
                if(day >= 31 || day == 0)
                {
                    console.log("Register number birthday is wrong!");
                }
                else
                {
                    birthDay_result = "20" + year + "/" +  month + birthDay.at(3) + "/" + day;
                    return birthDay_result;
                }
            }
            else
            {
                if(day >= 31 || day == 0)
                {
                    console.log("Register number birthday is wrong!");
                }
                else
                {
                    birthDay_result = "19" + year + "/" +  month + "/" + day;
                    return birthDay_result;
                }
            }
        }

        //Tursun gazar shalgadag function;
        function getBirthRegion(arr)
        {
            let regionLetter = arr.at(0);
            let region;
            switch (regionLetter)
            {
                case 'А': region = 'Архангай'; break;
                case 'Б': region = 'Баян-Өлгий'; break;
                default:  region = ("Region is not available"); break;
            }
            return region;
        }

        //Deerh buh utga hevledeg function
        function getRegisterInfo(register)
        {
            const gender = getGender(register);
            const birthDay = getBirthdate(register);
            const birthRegion = getBirthRegion(register);
            console.log(gender);
            console.log(birthDay);
            console.log(birthRegion);
        }
        let isReg = isCorrectReg(register);
        if(isReg != 1)
        {
            console.log("Register number entered wrong!");
        }
        else
        {
            //let regArr = register.split(''); // function ruu oroh utga;
            getRegisterInfo(register);
        }

    </script>
</body>
</html>