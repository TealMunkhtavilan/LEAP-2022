<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registeriin dugaar</title>
</head>
<style>h1{text-align: center; background: gray;}</style>
<body>
    <h1>Registeriin dugaar</h1>
    <script>// 2 -r sariin 28, 29 -iig tootsoogui bolno.
        let register = "УИ00292233";
        function isCorrectReg(register) //Registeriin dugaar mon esehiig shalgah function
        {
            let checkReg;
            let year = register.slice(2, 4);
            let month = register.slice(4, 6);
            let day = register.slice(6, 8);
            if(register.length != 10)
            {
                checkReg = 0;
            }
            else
            {
                if(register.at(0) == Number(register.at(0) || register.at(1)) == Number(register.at(1)))
                {
                    checkReg = 0;
                }
                else
                {
                    if(month.at(0) > 3 || ((month > 12 && month < 21) || month > 32))
                    {
                        checkReg = 0;
                    }
                    else
                    {
                        if(day > 31)
                        {
                            checkReg = 0;
                        }
                        else
                        {
                            checkReg = 1;
                        }
                    }
                }
            }
            return checkReg;
        }

        function getGender(register) //Huis shalga function
        {
            let numOfGen = register.at(8);
            let gender;
            if(Number(numOfGen) % 2 == 0)
            {
               gender = "Emegtei";
            }
            else
            {
                gender = "Eregtei";
            }
            return gender;
        }

        function getBirthDay(register)//Tursun udriig avdag function
        {
            let birthDay;
            const year = register.slice(2, 4);
            const month = register.slice(4, 6);
            const day = register.slice(6, 8);
            if(month.at(0) == 2)
            {
                birthDay = "20" + year + "/" + "0" + month.at(1) + "/" + day;
            }
            else if(month.at(0) == 3)
            {
                let month3 = Number(month.at(0) - 2);
                birthDay = "20" + year + "/" + month3 +  month.at(1) + "/" + day;
            }
            else
            {
                birthDay = "19" + year + "/" + month + "/" + day;
            }
            return birthDay;
        }

        function getBirthRegion(register)
        {
            const regLetter = register.at(0).toUpperCase();
            let region;
            switch(regLetter)
            {
                case "А": region = "Архангай";
                break;
                case "Б": region = "Баян-Өлгий";
                break;
                case "В" : region = "Баянхонгор";
                break;
                case "Г" : region = "Булган";
                break;
                case "Д" : region = "Говь-Алтай";
                break;
                case "Е" : region = "Дорноговь";
                break;
                case "Ж" : region = "Дорнод";
                break;
                case "З" : region = "Дундговь";
                break;
                case "И" : region = "Завхан";
                break;
                case "Й" : region = "Өвөрхангай";
                break;
                case "К" : region = " Өмнөговь";
                break;
                case "Л" : region = "Сүхбаатар";
                break;
                case "М" : region = "Сэлэнгэ";
                break;
                case "Н" : region = "Төв";
                break;
                case "О" : region = "Увс";
                break;
                case "П" : region = "Ховд";
                break;
                case "Р" : region = "Хөвсгөл";
                break;
                case "С" : region = "Хэнтий";
                break;
                case "Т" : region = "Дархан-Уул";
                break;
                case "Ф" : region = "Орхон";
                break;
                case "Х" : region = "Говьсүмбэр";
                break;
                case "У" : region = "Улаанбаатар";
                break;
                case "Ц" : region = "Улаанбаатар";
                break;
                default: region = "No region";
                break;
            }
            return region;
        }

        function getRegisterInfo(register)
        {
            const gender = getGender(register);
            const birthDay = getBirthDay(register);
            const region = getBirthRegion(register);
            console.log(gender);
            console.log(birthDay);
            console.log(region);
        }
        let ok = isCorrectReg(register);
        if(ok != 1)
        {
            console.log("Registeriin dugaar bish baina.");
        }
        else
        {
            getRegisterInfo(register);
        }

    </script>
</body>
</html>